(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={mainForm:"Form_mainForm__2TgZl",name:"Form_name__JxTQ8",number:"Form_number__2L9jl",inputName:"Form_inputName__5nheb",inputNumber:"Form_inputNumber__2VQyO",addContact:"Form_addContact__EpQuH",alert:"Form_alert__35Kos"}},15:function(t,e,n){t.exports={contact:"Phonebook_contact__35NUF",button:"Phonebook_button__gimrS",name:"Phonebook_name__3UN9l",number:"Phonebook_number__3V4Xf"}},20:function(t,e,n){t.exports={enter:"fade_enter__1sCkJ",enterActive:"fade_enterActive__264cB",exit:"fade_exit__1aEUM",exitActive:"fade_exitActive__2VCsf"}},27:function(t,e,n){t.exports={App:"App_App__37-9P"}},30:function(t,e,n){t.exports={find:"Filter_find__2oI3h",inputFind:"Filter_inputFind__31oWN"}},31:function(t,e,n){t.exports={appear:"fadeLogo_appear__3ZSFr",appearActive:"fadeLogo_appearActive__36hSD",title:"fadeLogo_title__3o6xT"}},42:function(t,e,n){t.exports={enter:"fadePhonebook_enter__FQlib",enterActive:"fadePhonebook_enterActive__Gn8pp",exit:"fadePhonebook_exit__EPkCp",exitActive:"fadePhonebook_exitActive__1YdqF"}},50:function(t,e,n){},73:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),o=n.n(a),r=n(8),u=n.n(r),i=(n(50),n(27)),s=n.n(i),b=n(4),l=n(18),d=n(19),m=n(23),j=n(22),f=n(10),p=n.n(f),h=n(14),O=n.n(h),_=n(2),C={ADD:"contacts/add",DELETE:"contacts/delete",DOUBLE_CONTACT:"contacts/double",FILTER:"contacts/filter"},x=Object(_.b)("contacts/fetchContactRequest"),v=Object(_.b)("contacts/fetchContactSuccess"),g=Object(_.b)("contacts/fetchContactError"),N=Object(_.b)("contacts/addContactRequest"),F=Object(_.b)("contacts/addContactSuccess"),A=Object(_.b)("contacts/addContactError"),k=Object(_.b)("contacts/deleteContactRequest"),S=Object(_.b)("contacts/deleteContactSuccess"),y=Object(_.b)("contacts/deleteContactError"),E=Object(_.b)(C.FILTER);O.a.defaults.baseURL="http://localhost:4040";var L,T,P={addContact:function(t){return function(e){var n={name:t.name,number:t.number};e(N()),O.a.post("/contacts",n).then((function(t){var n=t.data;return e(F(n))})).catch((function(t){return e(A(t))}))}},deleteContact:function(t){return function(e){e(k()),O.a.delete("/contacts/".concat(t)).then((function(){return e(S(t))})).catch((function(t){return e(y(t))}))}},fetchContacts:function(){return function(t){t(x()),O.a.get("/contacts").then((function(e){var n=e.data;return t(v(n))})).catch((function(e){return t(g(e))}))}}},D=n(74),w=n(20),I=n.n(w),R=n(9),U=n(17),V=function(t){return t.contacts.filter},q=function(t){return t.contacts.items},B={getVisibleContact:Object(U.a)([q,V],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLocaleLowerCase().includes(n)}))})),getFilter:V,getAllContacts:q},J=function(t){Object(m.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",doubleContact:!1,message:""},t.changeInput=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(b.a)({},c,a))},t.addContact=function(e){return e.preventDefault(),""===t.state.name&&""===t.state.number?(t.setState({message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430",doubleContact:!0}),console.log(t.props.contacts),void setTimeout((function(){return t.setState({message:"",doubleContact:!1})}),3e3)):t.props.contacts.find((function(e){return e.name===t.state.name}))?(t.setState({message:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(t.state.name," \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"),doubleContact:!0}),void setTimeout((function(){t.setState({message:"",doubleContact:!1}),t.reset()}),3e3)):(t.props.onSubmit(t.state),void t.reset())},t.reset=function(){t.setState({name:"",number:""})},t}return Object(d.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.doubleContact,o=t.message;return Object(c.jsxs)("div",{children:[Object(c.jsx)(D.a,{in:a,classNames:I.a,timeout:500,unmountOnExit:!0,children:Object(c.jsx)("p",{className:p.a.alert,children:o})}),Object(c.jsxs)("form",{className:p.a.mainForm,onSubmit:this.addContact,children:[Object(c.jsxs)("label",{className:p.a.name,children:["Name"," ",Object(c.jsx)("input",{className:p.a.inputName,name:"name",type:"text",value:e,onChange:this.changeInput})]}),Object(c.jsxs)("label",{className:p.a.number,children:["Number"," ",Object(c.jsx)("input",{className:p.a.inputNumber,name:"number",type:"text",value:n,onChange:this.changeInput})]}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{className:p.a.addContact,type:"submit",children:"Add Contact"})]})]})}}]),n}(o.a.Component),Q=Object(R.b)((function(t){return{contacts:B.getAllContacts(t)}}),(function(t){return{onSubmit:function(e){return t(P.addContact(e))}}}))(J),M=n(75),Z=n(15),z=n.n(Z),G=n(42),H=n.n(G),K=function(t){Object(m.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.onDeleteContact;return Object(c.jsx)(M.a,{component:"ul",children:e.map((function(t){var e=t.id,a=t.name,o=t.number;return Object(c.jsx)(D.a,{classNames:H.a,timeout:500,children:Object(c.jsxs)("li",{className:z.a.conctact,children:[Object(c.jsx)("p",{className:z.a.name,children:a}),Object(c.jsx)("p",{className:z.a.number,children:o}),Object(c.jsx)("button",{className:z.a.button,onClick:function(){return n(e)},children:"Delete"})]})},e)}))})}}]),n}(o.a.Component),W=Object(R.b)((function(t){return{contacts:B.getVisibleContact(t)}}),(function(t){return{onDeleteContact:function(e){return t(P.deleteContact(e))},fetchContacts:function(){return t(P.fetchContacts())}}}))(K),X=n(30),Y=n.n(X),$=Object(R.b)((function(t){return{value:B.getFilter(t),contacts:B.getAllContacts(t)}}),(function(t){return{onChange:function(e){return t(E(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange,a=t.contacts;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(D.a,{in:a.length>1,classNames:I.a,timeout:500,unmountOnExit:!0,children:Object(c.jsxs)("label",{className:Y.a.find,children:["Find number",Object(c.jsx)("input",{className:Y.a.inputFind,type:"text",value:e,onChange:n})]})})})})),tt=n(31),et=n.n(tt),nt=function(){return Object(c.jsx)(D.a,{in:!0,appear:!0,classNames:et.a,timeout:500,unmountOnExit:!0,children:Object(c.jsx)("h2",{className:et.a.title,children:"Phonebook"})})},ct=function(){return Object(c.jsxs)("div",{className:s.a.App,children:[Object(c.jsx)(nt,{}),Object(c.jsx)(Q,{}),Object(c.jsx)("h2",{className:s.a.title,children:"Contacts"}),Object(c.jsx)($,{}),Object(c.jsx)(W,{})]})},at=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),a(t),o(t),r(t)}))},ot=n(21),rt=n(43),ut=n.n(rt),it=n(3),st=Object(_.c)([],(L={},Object(b.a)(L,v,(function(t,e){return e.payload})),Object(b.a)(L,F,(function(t,e){var n=e.payload;return[].concat(Object(ot.a)(t),[n])})),Object(b.a)(L,S,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),L)),bt=Object(_.c)("",Object(b.a)({},E,(function(t,e){return e.payload}))),lt=Object(_.c)(!1,(T={},Object(b.a)(T,N,(function(){return!0})),Object(b.a)(T,F,(function(){return!1})),Object(b.a)(T,A,(function(){return!1})),Object(b.a)(T,k,(function(){return!0})),Object(b.a)(T,S,(function(){return!1})),Object(b.a)(T,y,(function(){return!1})),Object(b.a)(T,x,(function(){return!0})),Object(b.a)(T,v,(function(){return!1})),Object(b.a)(T,g,(function(){return!1})),T)),dt=Object(it.c)({items:st,filter:bt,loading:lt}),mt=n(11),jt=[].concat(Object(ot.a)(Object(_.d)({serializableCheck:{ignoredActions:[mt.a,mt.f,mt.b,mt.c,mt.d,mt.e]}})),[ut.a]),ft=Object(_.a)({reducer:{contacts:dt},middleware:jt,devTools:!1});u.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(R.a,{store:ft,children:Object(c.jsx)(ct,{})})}),document.getElementById("root")),at()}},[[73,1,2]]]);
//# sourceMappingURL=main.e9b3ee2a.chunk.js.map